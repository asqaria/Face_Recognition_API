<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Face Recognition</title>
    <!-- Bootstrap core CSS -->
    <link href="static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="static/css/thumbnail-gallery.css" rel="stylesheet">
    <!-- Uploading profile picture -->
    <link href="static/css/croppr.min.css" rel="stylesheet">
    <script src="static/js/croppr.min.js"></script>
  </head>
  <body>
  <style>
  .bottom-left {
    position: absolute;
    bottom: 30px;
    left: 20px;
    border-top: 1px solid grey;
    background-color: #CCC;
    width: 245px;
    padding: 5px;
    opacity: 0.8;
  }
  </style>


    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">Face Recognition</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home
                <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Users</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Visitors</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Suspicious</a>
            </li>
            <li class="nav-item">
              <a style='cursor: pointer;' class="nav-link" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">Registration</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Content -->
    <div class="container">

      <h1 class="my-4 text-center text-lg-left"></h1>

      <div class="row text-center text-lg-left">

        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
          <div class="bottom-left"><small>Alisher Jandosov</small></div>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
          <div class="bottom-left"><small>Saltanat Magjanova</small></div>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="#" class="d-block mb-4 h-100">
            <img class="img-fluid img-thumbnail" src="http://placehold.it/400x300" alt="">
          </a>
        </div>
      </div>

    </div>
    <!-- /.container -->

    <!-- Modal -->
    <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <form name='reg_form' enctype="multipart/form-data" method="POST" action="create.php">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Registration</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <input style='margin-bottom: 10px;' type="text" class="form-control" placeholder="Full name" required>
            <input style='margin-bottom: 10px;' type="email" class="form-control" placeholder="Email" required>
            <input style='margin-bottom: 10px;' type="phone" class="form-control" placeholder="Phone number" required>
            <div style='margin-bottom: 10px;' class="custom-file">
              <input name="images" type="file" class="custom-file-input" id="customFile" required multiple>
              <label class="custom-file-label" for="customFile">Choose images for trining (minimum 30)</label>
            </div>

            <img style="max-width: 100%" src="http://placehold.it/400x300" id="cropper">
            <div style='margin: 10px 0 10px 0;' class="custom-file">
              <input onchange="previewFile()" name="picture" type="file" class="custom-file-input" id="customFile" required multiple>
              <label class="custom-file-label" for="customFile">Choose profile picture</label>
            </div>
            <input name='x' type='hidden'>
            <input name='y' type='hidden'>
            <input name='w' type='hidden'>
            <input name='h' type='hidden'>
            <script>
                var croppr = new Croppr('#cropper', {
                    aspectRatio: 0.75,
                    onCropEnd: (data) => {
                      console.log('end', data);
                      document.reg_form.x.value = data.x;
                      document.reg_form.y.value = data.y;
                      document.reg_form.w.value = data.width;
                      document.reg_form.h.value = data.height;
                    }
                });

                function previewFile() {
                  var preview = document.querySelector('.modal-body img');
                  var file    = document.querySelector('input[name=picture]').files[0];
                  var reader  = new FileReader();

                  reader.onloadend = function () {
                    preview.src = reader.result;
                    croppr.imageClippedEl.src=reader.result;
                  }

                  if (file) {
                    reader.readAsDataURL(file);
                  } 
                }
            </script>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="py-5 bg-dark">
      <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; Imangali Turar</p>
      </div>
      <!-- /.container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="static/vendor/jquery/jquery.min.js"></script>
    <script src="static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  </body>

</html>
